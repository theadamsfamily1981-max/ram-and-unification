# configs/snn_kitten.yaml
#
# Backend configuration for Kitten SNN fabric
# Uses the 4-population architecture with CI-compliant gates

backend: snn_emu

device: "cpu"           # "cuda" for GPU, "fpga" for Ara-SYNERGY
dtype: "float32"

model:
  hidden_size: 4096     # for the encoder, if used

snn:
  use_fabric: true
  fabric_config: "configs/snn/kitten_fabric_4pop.yaml"
  time_steps: 256
  input_pop: "input"
  output_pop: "output"

  # CI audit parameters
  N: 4096               # base N for SNN audit script
  lowrank_rank: 32      # r <= 32
  k_per_row: 64         # k <= 64

training:
  learning_rate: 1.5e-3
  weight_decay: 0.01
  grad_clip: 1.0
  adam_betas: [0.9, 0.95]

  # Spike regularization
  spike_target_rate: 0.1
  spike_lambda: 0.01

# FDT controller integration
fdt:
  enabled: true
  target_fdt_ratio: 1.0
  kp: 0.1
  ki: 0.01
  kd: 0.001
  warmup_steps: 1000

# Logging
logging:
  log_spike_rates: true
  log_sparsity: true
  log_interval: 100
